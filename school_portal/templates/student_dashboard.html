{% extends "base.html" %}
{% block content %}
<h2>Student Dashboard</h2>

<section>
    <h3>Profile</h3>
    <p><strong>Name:</strong> {{ student.first_name }} {{ student.last_name }}</p>
    <p><strong>Major:</strong> {{ student.major }}</p>
    <p><strong>Status:</strong> {{ student.status }}</p>
    <p><strong>GPA:</strong>
        {% if student.gpa is not none %}
            {{ "%.2f"|format(student.gpa) }}
        {% else %}
            N/A
        {% endif %}
    </p>
</section>

<section>
    <h3>Current Enrollments</h3>
    <table>
        <tr>
            <th>Course</th>
            <th>Meeting</th>
            <th>Location</th>
            <th>Grade</th>
        </tr>
        {% for e in enrollments %}
        <tr>
            <td>{{ e.course_code }} - {{ e.course_name }}</td>
            <td>{{ e.meeting_time }}</td>
            <td>
                {% if e.building_name %}
                    {{ e.building_name }} â€“ Room {{ e.room_number }}
                {% else %}
                    TBA
                {% endif %}
            </td>
            <td>{{ e.grade if e.grade is not none else "N/A" }}</td>
        </tr>
        {% endfor %}
    </table>

    <p>
        <a href="{{ url_for('student_courses') }}">View courses page</a> |
        <a href="{{ url_for('student_transcript') }}">View transcript</a> |
        <a href="{{ url_for('student_enroll') }}">Enroll in a course</a>
    </p>
</section>
{% endblock %}